<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../../normalize.css">
  <link rel="stylesheet" href="../../Основы/Переменные/style.css">
  <title>Переменные и параметры в функциях</title>
</head>
<body>
  <div class="wrapper">
    <header>
      <img src="../../../assets/logoJS.png" alt="JS" id="logo">
      <h1>Основной учебник</h1>
    </header>
    <main id="main">
      <div id="content">
        <div>
          <h2>Глобальные переменные в функциях</h2>
          <p>
            В JavaScript (в других языках чаще всего не так) переменные, определенные снаружи функции, будут видны внутри этой функции. Такие переменные называются глобальными.
          </p>
          <p>
            На самом деле переменная должна быть определена не перед определением функции, а перед ее вызовом: 
            <br><br>
            function func() {
              <br>
              console.log(num);
              <br>
            }
            <br><br>
            let num = 1; // переменная снаружи функции
            <br>
            func();      // выведет 1
          </p>
          <p>
            Если у нас несколько функций, то глобальная переменная будет доступна в каждой из этих функций.
            <br>
            Если в одной из функций произойдут изменения с глобальной переменной, то эта переменная поменяется во всех функциях, использующих эту переменную.
          </p>
          <p>
            Так как любая из функций легко может поменять глобальную переменную, то их использование представляет собой рассадник трудноуловимых ошибок. По этой причине использование глобальных переменных в скрипте нужно сводить к минимуму. Желательно, чтобы их вообще не было или было самое минимальное количество. 
          </p>
        </div>
        <div>
          <h2>Локальные переменные в функциях</h2>
          <p>
            Переменные, определенные внутри функции, называются локальными. В отличии от глобальных переменных, локальные переменные видны только внутри функции, и не видны снаружи.
          </p>
        </div>
        <div>
          <h2>Одинаковые имена переменных в функциях</h2>
          <p>
            Пусть и снаружи функции, и внутри есть переменная num. В этом случае любые изменения с локальной переменной num никак не влияют на глобальную переменную num.
          </p>
          <p>
            Но, если мы забудем объявить локальную переменную num через let, то внутри функции не создастся локальная переменная num, а просто изменится глобальная переменная.
          </p>
          <p>
            Тут может быть две ситуации: или мы действительно хотели поменять глобальную переменную (тогда все ок), или мы забыли let и случайно поменяли глобальную переменную. 
            <br>
            Второй случай является трудноуловимой ошибкой, ведущей к непредсказуемому поведению скрипта. Поэтому всегда, вводя новую переменную объявляйте ее через let. 
          </p>
        </div>
        <div>
          <h2>Изменение глобальных переменных</h2>
          <p>
            Учтите, что глобальная переменная будет меняться только в момент вызова функции. Если вызова функции нет - переменная не изменится.
          </p>
        </div>
        <div>
          <h2>Глобальные переменные и параметры функции</h2>
          <p>
            Пусть у нас есть функция, принимающая параметром число, снаружи функции есть переменная num, вызовем нашу функцию, передав ей параметром переменную num: 
            <br><br>
            function func(localNum) {
              <br>
              console.log(localNum);
              <br>
            }
            <br><br>
            let num = 1;
            <br>
            func(num); // вызываем функцию с параметром, выведет 1
          </p>
          <p>
            Получится, что внутри функции будет доступна как переменная localNum (параметр функции), так и переменная num (как внешняя переменная), Сама переменная localNum будет локальной переменной функции и не будет доступна извне.
            <br><br>
            Так как переменная localNum - локальная, то никакие изменения с ней ничего не поменяют снаружи, Если же поменять внутри переменную num (глобальную), то изменения появятся и снаружи.
          </p>
        </div>
        <div>
          <h2>Совпадение имен с параметрами</h2>
          <p>
            Параметры функции являются локальными переменными внутри нее. Давайте назовем параметр функции таким же именем, как и внешнюю глобальную переменную: 
            <br><br>
            function func(num) {
              <br>
              console.log(num);
              <br>
            }
            <br><br>
            let num = 1;
            <br>
            func(num);
          </p>
          <p>
            В данном случае у нас получится так, что снаружи функции будет переменная num и внутри функции будет переменная num. Но это будут разные переменные: изменение переменной внутри функции будет приводить к изменению локальной переменной функции. А внешняя переменная внутри функции будет недоступна и не сможет быть изменена никаким способом.
          </p>
        </div>
        <div>
          <h2>Параметры-объекты</h2>
          <p>
            Объекты, в отличие от примитивов, передаются по ссылке. Это значит, что изменение объекта внутри функции приведет к тому, что он поменяется и снаружи функции. Смотрите пример: 
            <br><br>
            function func(arr) {
              <br>
              arr[0] = '!';
              <br>
            }
            <br><br>
            let arr = [1, 2, 3];
            <br>
            func(arr);
            <br>
            console.log(arr); // выведет ['!', 2, 3]
          </p>
        </div>
      </div>
    </main>
    <footer>
      <a href="../../basic_js_book.html">К основному учебнику</a>
    </footer>
  </div>
</body>
</html>

<script src="./local_and_global_variable.js"></script>